<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Vault KMS Provider</title>
        <link rel="stylesheet" href="/css/index.css">
        <link rel="apple-touch-icon" sizes="180x180" href="https://vault-kms-provider.io/assets/apple-touch-icon.png">
        <link rel="icon" href="https://vault-kms-provider.io/assets/favicon.ico">
        <link rel="icon" type="image/png" sizes="32x32" href="https://vault-kms-provider.io/assets/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://vault-kms-provider.io/assets/favicon-16x16.png">
        <link rel="manifest" href="https://vault-kms-provider.io/assets/site.webmanifest">
        <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-solarizedlight.css" rel="stylesheet"/>
    </head>
    <body style="background-color: #ffffff">
        <div class = "github-link">
            <a href="https://github.com/Ruddickmg/vault-kms-provider">
                <img src="https://vault-kms-provider.io/assets/github-mark.png" alt="GitHub" class="github-icon" />
            </a>
        </div>
        
<div class="homepage">
    <div class="sidebar">
       <div class="navbar">
           <div>
             <a href="/">
               <h2>About</h2>
             </a>
           </div>
           <div>
             <a href="/quick-start">
               <h2>Quick Start</h2>
             </a>
           </div>
           
               
                   
               
           
               
                   
               
           
               
                   
               
           
               
                   
               
           
               
                   
                   <div>
                     
                       <a href="/configuration"><h2>Configuration</h2></a>
                     
                     <ul>
                       
                         <li><a href=/configuration/authentication/>Authentication</a></li>
                       
                         <li><a href=/configuration/kubernetes/>Kubernetes</a></li>
                       
                         <li><a href=/configuration/plugin/>Plugin</a></li>
                       
                         <li><a href=/configuration/tls/>Tls</a></li>
                       
                         <li><a href=/configuration/vault/>Vault</a></li>
                       
                     </ul>
                   </div>
                   
               
           
               
                   
               
           
               
                   
                   <div>
                     
                       <a href="/installation"><h2>Installation</h2></a>
                     
                     <ul>
                       
                         <li><a href=/installation/docker/>Docker</a></li>
                       
                         <li><a href=/installation/helm/>Helm</a></li>
                       
                         <li><a href=/installation/repository/>Repository</a></li>
                       
                         <li><a href=/installation/static/>Static</a></li>
                       
                     </ul>
                   </div>
                   
               
           
               
                   
                   <div>
                     
                       <h2>Benchmarks</h2>
                     
                     <ul>
                       
                         <li><a href=/benchmarks/health/>Health</a></li>
                       
                         <li><a href=/benchmarks/encryption/>Encryption</a></li>
                       
                         <li><a href=/benchmarks/decryption/>Decryption</a></li>
                       
                     </ul>
                   </div>
                   
               
           
       </div>
    </div>
    <div class="content">
        
<div class="content-header">
    <h1>Configuration</h1>
</div>
<div class="content-body">
    <h2>Authentication</h2>
<p>Currently, the following authentication methods are supported</p>
<ul>
<li><a href="https://developer.hashicorp.com/vault/api-docs/auth/token">Token</a></li>
<li><a href="https://developer.hashicorp.com/vault/docs/auth/kubernetes">Kubernetes</a></li>
<li><a href="https://developer.hashicorp.com/vault/docs/auth/userpass">UserPass</a></li>
<li><a href="https://developer.hashicorp.com/vault/docs/auth/approle">AppRole</a></li>
<li><a href="https://developer.hashicorp.com/vault/docs/auth/jwt">JWT/OIDC</a></li>
<li><a href="https://developer.hashicorp.com/vault/docs/auth/cert">Certificate</a></li>
</ul>
<p>Configuration of auth methods is done using the environment variables listed below.</p>
<pre class="language-hcl"><code class="language-hcl"># Path defined for the authentication route, ex: auth/custom-auth-path/...
#  if not set, will default to the associated auth method, ex: auth/userpass/.. or auth/kubernetes/..
VAULT_AUTH_MOUNT = "custom-auth-path"

# Vault token for vault access
VAULT_TOKEN = "SiQOECxwSDCeQt1r0n5kqQCr"
# path to file containing vault token
VAULT_TOKEN_PATH = "/path/to/vault/token"

# user and password for userpass authentication
VAULT_USER = "vault-kms-provider"
VAULT_PASSWORD = "some-password"
# path to file containing vault password
VAULT_PASSWORD_PATH = "/path/to/vault/password"

# path to mounted JWT for kubernetes auth
VAULT_KUBERNETES_JWT_PATH = "/path/to/vault.jwt"
# jwt for kubernetes auth
VAULT_KUBERNETES_JWT = "jwt"
# role for kubernetes auth 
VAULT_KUBERNETES_ROLE = "vault-kms-provider"

# role_id and secret_id for approle authentication
VAULT_ROLE_ID = "role"
VAULT_SECRET_ID = "secret"
# path to file containing secret id
VAULT_SECRET_ID_PATH = "/path/to/secret/id"

# jwt for jwt auth
VAULT_JWT = "jwt"
# path to mounted jwt for jwt auth
VAULT_JWT_PATH = "/path/to/jwt"
# role for jwt, optional
VAULT_JWT_ROLE = "vault-kms-provider"

# name of the trusted certificate created in vault for authentication
VAULT_CERTIFICATE_NAME = "vault-kms-provider"
# path to client cert and key for certificate authentication
VAULT_CLIENT_CERT = "/path/to/client/public.crt"
VAULT_CLIENT_KEY = "/path/to/client/private.key"</code></pre>
<p>Environment variables can be configured using the <code>env</code> property in the values.yaml, ex:</p>
<pre class="language-yaml"><code class="language-yaml">env:
  - name: VAULT_TOKEN
    valueFrom:
      secretKeyRef:
        name: vault-token-secret
        key: token</code></pre>
<p>The <code>envFrom</code> property is also configurable in the values.yaml file, allowing configMaps, etc to be added. ex:</p>
<pre class="language-yaml"><code class="language-yaml">envFrom:
  - configMapRef:
    name: my-custom-config-map</code></pre>

</div>

    </div>
</div>
    </body>
</html>
